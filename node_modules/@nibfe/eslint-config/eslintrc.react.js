module.exports = {
  extends: ['airbnb'],
  parser: 'babel-eslint',
  env: {
    browser: true,
    es6: true,
  },
  rules: {
    /**
     * airbnb variables rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/rules/variables.js
     */
    // disallow declaration of variables already declared in the outer scope
    // 经常会将props结构，使用action
    'no-shadow': 'off',
    /**
     * airbnb best-practice rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/rules/best-practices.js
     */
    // require using Error objects as Promise rejection reasons
    // https://eslint.org/docs/rules/prefer-promise-reject-errors
    // reject error时，经常需要自定义error的code，直接使用new Error()不能自定义code
    'prefer-promise-reject-errors': 'off',
    // enforce that class methods use "this"
    // https://eslint.org/docs/rules/class-methods-use-this
    // 强制类方法必须用this，没有用this的方法要声明为静态方法，不方便后续扩展
    'class-methods-use-this': 'off',
    // disallow else after a return in an if
    // https://eslint.org/docs/rules/no-else-return
    // else前有return比较常见
    'no-else-return': 'off',
    // require default case in switch statements
    // 有时候没有default
    'default-case': 'warn',
    // disallow comparisons to null without a type-checking operator
    // foo == null 用于判断 foo 不是 undefined 并且不是 null，比较常用
    'no-eq-null': 'off',
    // disallow lexical declarations in case/default clauses
    // https://eslint.org/docs/rules/no-case-declarations.html
    // case 中常会进行一些逻辑处理需要声明变量
    'no-case-declarations': 'off',
    // specify the maximum cyclomatic complexity allowed in a program
    // 限制函数内条件数量，太严格
    complexity: 'off',
    // disallow usage of expressions in statement position
    // 短路和三元运算符使用较多
    'no-unused-expressions': [
      'error',
      { allowShortCircuit: true, allowTernary: true, allowTaggedTemplates: true },
    ],

    // disallow use of assignment in return statement
    // 不允许return foo = bar + 2;这种情况，在箭头函数中较常见
    'no-return-assign': ['error', 'except-parens'],

    /**
     * airbnb es6 rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/rules/es6.js
     */
    // Prefer destructuring from arrays and objects
    // https://eslint.org/docs/rules/prefer-destructuring
    // 要求必须解构，木有必要
    'prefer-destructuring': 'off',

    /**
     * airbnb imports rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/rules/imports.js
     */
    // Require modules with a single export to use a default export
    // https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/prefer-default-export.md
    // 一个模块只有一个导出时，要求使用默认导出，不便于扩展
    'import/prefer-default-export': 'off',
    // // Forbid the use of extraneous packages
    // // https://github.com/benmosher/eslint-plugin-import/blob/master/docs/rules/no-extraneous-dependencies.md
    'import/no-extraneous-dependencies': [
      'warn',
      {
        devDependencies: [
          'test/**', // tape, common npm pattern
          'tests/**', // also common npm pattern
          'spec/**', // mocha, rspec-like pattern
          '**/__tests__/**', // jest pattern
          '**/__mocks__/**', // jest pattern
          'test.{js,jsx}', // repos with a single test file
          'test-*.{js,jsx}', // repos with multiple top-level test files
          '**/*{.,_}{test,spec}.{js,jsx}', // tests where the extension or filename suffix denotes that it is a test
          '**/jest.config.js', // jest config
          '**/jest.setup.js', // jest setup
          '**/webpack.config.js', // webpack config
          '**/webpack.config.*.js', // webpack config
          '**/rollup.config.js', // rollup config
          '**/rollup.config.*.js', // rollup config
          '**/gulpfile.js', // gulp config
          '**/gulpfile.*.js', // gulp config
          '**/Gruntfile{,.js}', // grunt config
          '**/protractor.conf.js', // protractor config
          '**/protractor.conf.*.js', // protractor config
          '**/karma.conf.js', // karma config
        ],
        optionalDependencies: false,
      },
    ],

    /**
     * airbnb style rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb-base/rules/style.js
     */
    // disallow dangling underscores in identifiers
    // https://eslint.org/docs/rules/no-underscore-dangle
    // 一些私有变量会使用下划线
    'no-underscore-dangle': 'off',
    // specify the max number of lines in a file
    // https://eslint.org/docs/rules/max-lines
    'max-lines': 'off',
    // disallow use of unary operators, ++ and --
    // https://eslint.org/docs/rules/no-plusplus
    // ++和--运算符会自动插入分号，所以空格的不同会改变源代码的语义, 但是在for循环末尾使用 ++ 不会产生空格带来的语义性问题
    'no-plusplus': ['error', { allowForLoopAfterthoughts: true }],

    /**
     * airbnb react rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb/rules/react.js
     */
    // Prevent usage of setState in componentDidUpdate
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-did-update-set-state.md
    // did update setState比较常见
    'react/no-did-update-set-state': 'off',
    // Prevent usage of button elements without an explicit type attribute
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/button-has-type.md
    'react/button-has-type': 'off',
    // only .jsx files may have JSX
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-filename-extension.md
    'react/jsx-filename-extension': ['error', { extensions: ['.js', '.jsx'] }],
    // Enforce a defaultProps definition for every prop that is not a required prop
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/require-default-props.md
    'react/require-default-props': 'off',
    // Disallow JSX props spreading
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/jsx-props-no-spreading.md
    'react/jsx-props-no-spreading': 'off',
    // Enforce state initialization style
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/state-in-constructor.md
    'react/state-in-constructor': 'off',
    // One JSX Element Per Line
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/jsx-one-expression-per-line.md
    'react/jsx-one-expression-per-line': 'off',
    // Enforces where React component static properties should be positioned
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/static-property-placement.md
    'react/static-property-placement': 'off',
    // Forbid certain propTypes (any, array, object)
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/forbid-prop-types.md
    // 限制不能使用array object any作为proptypes，太严格
    'react/forbid-prop-types': 'off',
    // Enforce component methods order
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/sort-comp.md
    'react/sort-comp': 'off',
    // Prevent usage of Array index in keys
    // https://github.com/yannickcr/eslint-plugin-react/blob/master/docs/rules/no-array-index-key.md
    'react/no-array-index-key': 'warn',
    // Enforce consistent usage of destructuring assignment of props, state, and context
    // https://github.com/yannickcr/eslint-plugin-react/blob/843d71a432baf0f01f598d7cf1eea75ad6896e4b/docs/rules/destructuring-assignment.md
    'react/destructuring-assignment': 'off',

    /**
     * airbnb react-a11y rules
     * https://github.com/airbnb/javascript/blob/master/packages/eslint-config-airbnb/rules/react-a11y.js
     */
    // Enforce that all elements that require alternative text have meaningful information
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/alt-text.md
    'jsx-a11y/alt-text': 'off',
    // Enforce that a label tag has a text label and an associated control.
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/b800f40a2a69ad48015ae9226fbe879f946757ed/docs/rules/label-has-associated-control.md
    'jsx-a11y/label-has-associated-control': 'off',
    // prohibit autoFocus prop
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-autofocus.md
    'jsx-a11y/no-autofocus': 'off',
    // prohibit autoFocus prop
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-autofocus.md
    'jsx-a11y/no-autofocus': ['error', { ignoreNonDOM: true }],
    // require that mouseover/out come with focus/blur, for keyboard-only users
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/mouse-events-have-key-events.md
    'jsx-a11y/mouse-events-have-key-events': 'off',
    // Enforce that DOM elements without semantic behavior not have interaction handlers
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-static-element-interactions.md
    // 没有语义的元素需要指定role
    'jsx-a11y/no-static-element-interactions': 'off',
    // media elements must have captions
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/media-has-caption.md
    // 媒体元素要有caption 字幕
    'jsx-a11y/media-has-caption': 'off',
    // require onClick be accompanied by onKeyUp/onKeyDown/onKeyPress
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/click-events-have-key-events.md
    // onclick必须和onKeyUp/onKeyDown/onKeyPress一起操作，太严格
    'jsx-a11y/click-events-have-key-events': 'off',
    // ensure emoji are accessible
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/accessible-emoji.md
    // <span role="img" aria-labelledby="panda1">🐼</span> 太严格
    'jsx-a11y/accessible-emoji': 'off',
    // A non-interactive element does not support event handlers (mouse and key handlers)
    // https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/no-noninteractive-element-interactions.md
    // 非交互元素不能定义事件，太严格
    'jsx-a11y/no-noninteractive-element-interactions': 'off',
  },
}
